@startuml
skinparam class {
    BackgroundColor<<Domain>> Wheat
    BorderColor<<Domain>> Tomato
}

interface Command {
    + executeOn(system: Any)
}

together {
    class Bank <<Domain>> {
    }
    class Account <<Domain>> {
        + id: String
        + name: String
        + balance: Amount
    }
    Bank "1" *--> "0..*" Account
}

    interface BankCommand {
        + executeOn(bank: Bank)
    }
    Command <|.. BankCommand

class CreateAccount {
    + id: String
    + name: String
}
BankCommand <|-- CreateAccount
CreateAccount ..> Account: creates >

together {
    interface AccountCommand {
        + executeOn(account: Account)
    }
    BankCommand <|-- AccountCommand
    AccountCommand ..> Account: modifies >
    class Deposit extends AccountCommand {
        + accountId: String
        + amount: Amount
    }

    class Withdrawal extends AccountCommand {
        + accountId: String
        + amount: Amount
    }
}

class Transfer extends BankCommand {
    + accountId: String
    + amount: Amount
}
Transfer ..> Deposit: delegates to >
Transfer ..> Withdrawal: delegates to >

@enduml